<!DOCTYPE html>
<html lang="en-us">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>Origami Residual &#43; Pulsaciones</title>
<meta name="description" content="Describe your website">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="robots" content="all,follow">
<meta name="googlebot" content="index,follow,snippet,archive">
<link rel="stylesheet" href="/css/bootstrap.min.css">
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,300,700,400italic">
<link rel="stylesheet" href="/css/font-awesome.min.css">
<link rel="stylesheet" href="/css/owl.carousel.css">
<link rel="stylesheet" href="/css/owl.theme.css">


  <link href="/css/style.default.css" rel="stylesheet" id="theme-stylesheet">

 

  
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  


<link href="/css/custom.css" rel="stylesheet">
<link rel="shortcut icon" href="/img/favicon.png">


</head>
<body>
  <div id="all">
      <div class="container-fluid">
          <div class="row row-offcanvas row-offcanvas-left">
              <div id="sidebar" class="col-xs-6 col-sm-4 col-md-3 sidebar-offcanvas">
  <div class="sidebar-content">
    <h1 class="sidebar-heading"><a href="/">Pablo Cortés</a></h1>
    
      <p class="sidebar-p">Portafolio de Taller de Productos - Magister en Innovación y Diseño </p>
    
    <ul class="sidebar-menu">
      
        <li><a href="/portfolio/">Home</a></li>
      
        <li><a href="/about/">About</a></li>
      
        <li><a href="/contact/">Get in touch</a></li>
      
    </ul>
    <p class="social">
  
  <a href="full%20page%20or%20profile%20url%20in%20facebook" data-animate-hover="pulse" class="external facebook">
    <i class="fa fa-facebook"></i>
  </a>
  
  
  <a href="full%20profile%20url%20in%20instagram" title="" class="external instagram">
    <i class="fa fa-instagram"></i>
  </a>
  
  
  <a href="mailto:email@example.com" data-animate-hover="pulse" class="email">
    <i class="fa fa-envelope"></i>
  </a>
  

  
  <a href="full%20profile%20url%20in%20github" data-animate-hover="pulse" class="external">
    <i class="fa fa-github"></i>
  </a>
  
  
  <a href="full%20profile%20url%20in%20youtube" data-animate-hover="pulse" class="external">
    <i class="fa fa-youtube"></i>
  </a>
  
  
  <a href="wa.me%20service%20link" data-animate-hover="pulse" class="external">
    <i class="fa fa-whatsapp"></i>
  </a>
  
</p>


    <div class="copyright">
      <p class="credit">
        
          Magister en Innovacion y Diseño 2020 |
        
        Taller de Productos
      </p>
    </div>
  </div>
</div>

              
<div class="col-xs-12 col-sm-8 col-md-9 content-column white-background">
  <div class="small-navbar visible-xs">
  <button type="button" data-toggle="offcanvas" class="btn btn-ghost pull-left"> <i class="fa fa-align-left"> </i>Menu</button>
  <h1 class="small-navbar-heading"><a href="/">Pablo Cortés</a></h1>
</div>

  <div class="row">
    <div class="col-lg-8">
      <div class="content-column-content">
         <h1>Origami Residual &#43; Pulsaciones</h1>
         <p>Toma de concepto para la creación de un objeto.</p>
<p>Tomando el concepto de el-re-uso de materiales como el de palas por pistolas, se ve un fuerte fundamento del cambio de utilidad de un producto por otro, pistolas, usadas para destruir, por palas, usadas para crear nuevos espacios, además de otras aristas que toma como el trabajo y el esfuerzo proveniente de una base de ideología, limpia y correcta.</p>
<p>En este proyecto se toma el origami como la capacidad de construir algo solido de un material el cual sin ser trabajado es frágil, además de trabajarse en una dimensión de productos &ldquo;desechables&rdquo;.</p>
<p>Entonces, el origami le da la capacidad al papel de ser algo más que un objeto de dos dimensiones, le da una estructura y un potencial de trabajo.</p>
<p>La capacidad de transformación le permite tomar distintas formas, además de algunas estructuras dinámicas. Dado a esto, el proyecto apunta a esta característica, transformando un papel en dirección a ser desechado, a un artículo de monitoreo de presión visual a través de movimiento.</p>
<p><img src="/img/origami/gif_completo.gif" alt="logo"></p>
<h3 id="proceso">Proceso</h3>
<p><img src="/img/origami/gif_proceso.gif" alt="logo"></p>
<h3 id="sensor-de-pulsaciones">Sensor de pulsaciones</h3>
<p><img src="/img/origami/gif_arduino.gif" alt="logo"></p>
<h3 id="movimiento">Movimiento</h3>
<p><img src="/img/origami/gif_movimiento.gif" alt="logo"></p>
<h3 id="funcionalidad">Funcionalidad</h3>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/XsoJ9P3fSro" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/YlVAU_-Kkio" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<p><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<h3 id="código">Código</h3>
<!-- raw HTML omitted -->
<pre><code>
int pulsePin = A0;                 // Sensor de Pulso conectado al pin 0 analogo
int blinkPin = 2;                // led que indica cada pulso.

//variables que van cambiando su informacion
volatile int BPM;                   // actualizacion del analogo 0 
volatile int Signal;                // datos de la señal del sensor
volatile int IBI = 600;             // calcula la distancia entre cada pulso.
volatile boolean Pulse = false;     // &quot;True&quot; cuando pongo el dedo en el sensor &quot;False&quot; cuando no hay nada.
volatile boolean QS = false;        // cambia a True cuando siente pulsaciones

static boolean serialVisual = true;   // Visualizacion del serial cuando se conecta

volatile int rate[10];                      // arreglo para guardar las ultimas 10 pulsaciones
volatile unsigned long sampleCounter = 0;          // determina el tiempo de los pulsos
volatile unsigned long lastBeatTime = 0;           // encuentra la ultima pulsacion
volatile int P = 512;                      // encuentra la parte mas alta de la ola de pulsaciones
volatile int T = 512;                     // 
volatile int thresh = 525;                // encuentra el momento exacto de pulsacion 
volatile int amp = 100;                   // determina la amplitud de la frecuencia
volatile boolean firstBeat = true;        // calcula la primera pulsacion para que no salgan valores altos.
volatile boolean secondBeat = false;      // calcula la segunda pulsacion para que no salgan valores falsos.

void setup()
{
  pinMode(blinkPin,OUTPUT);         // led que parpadea con el pulso
  Serial.begin(115200);             // we agree to talk fast!
  interruptSetup();                 // lee la pulsacion cada 2ms 
                                     
}


void loop()
{
   serialOutput();  
   
  if (QS == true) // si encuentra un latido
    {     
      serialOutputWhenBeatHappens(); // A Beat Happened, Output that to serial.     
      QS = false; // reset the Quantified Self flag for next time    
    }
     
  delay(20); //  take a break
}


void interruptSetup()
{     
  // Initializes Timer2 to throw an interrupt every 2mS.
  TCCR2A = 0x02;     // DISABLE PWM ON DIGITAL PINS 3 AND 11, AND GO INTO CTC MODE
  TCCR2B = 0x06;     // DON'T FORCE COMPARE, 256 PRESCALER 
  OCR2A = 0X7C;      // SET THE TOP OF THE COUNT TO 124 FOR 500Hz SAMPLE RATE
  TIMSK2 = 0x02;     // ENABLE INTERRUPT ON MATCH BETWEEN TIMER2 AND OCR2A
  sei();             // MAKE SURE GLOBAL INTERRUPTS ARE ENABLED      
} 

void serialOutput()
{   // Decide How To Output Serial. 
 if (serialVisual == true)
  {  
     arduinoSerialMonitorVisual('-', Signal);   // goes to function that makes Serial Monitor Visualizer
  } 
 else
  {
      sendDataToSerial('S', Signal);     // goes to sendDataToSerial function
   }        
}

void serialOutputWhenBeatHappens()
{    
 if (serialVisual == true) //  Code to Make the Serial Monitor Visualizer Work
   {            
     Serial.print(&quot; Heart-Beat Found &quot;);  //ASCII Art Madness
     Serial.print(&quot;BPM: &quot;);
     Serial.println(BPM);
   }
 else
   {
     sendDataToSerial('B',BPM);   // send heart rate with a 'B' prefix
     sendDataToSerial('Q',IBI);   // send time between beats with a 'Q' prefix
   }   
}

void arduinoSerialMonitorVisual(char symbol, int data )
{    
  const int sensorMin = 0;      // sensor minimum, discovered through experiment
  const int sensorMax = 1024;    // sensor maximum, discovered through experiment
  int sensorReading = data; // map the sensor range to a range of 12 options:
  int range = map(sensorReading, sensorMin, sensorMax, 0, 11);
  // do something different depending on the 
  // range value:
}


void sendDataToSerial(char symbol, int data )
{
   Serial.print(symbol);
   Serial.println(data);                
}

ISR(TIMER2_COMPA_vect) //triggered when Timer2 counts to 124
{  
  cli();                                      // disable interrupts while we do this
  Signal = analogRead(pulsePin);              // read the Pulse Sensor 
  sampleCounter += 2;                         // keep track of the time in mS with this variable
  int N = sampleCounter - lastBeatTime;       // monitor the time since the last beat to avoid noise
                                              //  find the peak and trough of the pulse wave
  if(Signal &lt; thresh &amp;&amp; N &gt; (IBI/5)*3) // avoid dichrotic noise by waiting 3/5 of last IBI
    {      
      if (Signal &lt; T) // T is the trough
      {                        
        T = Signal; // keep track of lowest point in pulse wave 
      }
    }

  if(Signal &gt; thresh &amp;&amp; Signal &gt; P)
    {          // thresh condition helps avoid noise
      P = Signal;                             // P is the peak
    }                                        // keep track of highest point in pulse wave

  //  NOW IT'S TIME TO LOOK FOR THE HEART BEAT
  // signal surges up in value every time there is a pulse
  if (N &gt; 250)
  {                                   // avoid high frequency noise
    if ( (Signal &gt; thresh) &amp;&amp; (Pulse == false) &amp;&amp; (N &gt; (IBI/5)*3) )
      {        
        Pulse = true;                               // set the Pulse flag when we think there is a pulse
        digitalWrite(blinkPin,HIGH);                // turn on pin 13 LED
        IBI = sampleCounter - lastBeatTime;         // measure time between beats in mS
        lastBeatTime = sampleCounter;               // keep track of time for next pulse
  
        if(secondBeat)
        {                        // if this is the second beat, if secondBeat == TRUE
          secondBeat = false;                  // clear secondBeat flag
          for(int i=0; i&lt;=9; i++) // seed the running total to get a realisitic BPM at startup
          {             
            rate[i] = IBI;                      
          }
        }
  
        if(firstBeat) // if it's the first time we found a beat, if firstBeat == TRUE
        {                         
          firstBeat = false;                   // clear firstBeat flag
          secondBeat = true;                   // set the second beat flag
          sei();                               // enable interrupts again
          return;                              // IBI value is unreliable so discard it
        }   
      // keep a running total of the last 10 IBI values
      word runningTotal = 0;                  // clear the runningTotal variable    

      for(int i=0; i&lt;=8; i++)
        {                // shift data in the rate array
          rate[i] = rate[i+1];                  // and drop the oldest IBI value 
          runningTotal += rate[i];              // add up the 9 oldest IBI values
        }

      rate[9] = IBI;                          // add the latest IBI to the rate array
      runningTotal += rate[9];                // add the latest IBI to runningTotal
      runningTotal /= 10;                     // average the last 10 IBI values 
      BPM = 60000/runningTotal;               // how many beats can fit into a minute? that's BPM!
      QS = true;                              // set Quantified Self flag 
      // QS FLAG IS NOT CLEARED INSIDE THIS ISR
    }                       
  }

  if (Signal &lt; thresh &amp;&amp; Pulse == true)
    {   // when the values are going down, the beat is over
      digitalWrite(blinkPin,LOW);            // turn off pin 13 LED
      Pulse = false;                         // reset the Pulse flag so we can do it again
      amp = P - T;                           // get amplitude of the pulse wave
      thresh = amp/2 + T;                    // set thresh at 50% of the amplitude
      P = thresh;                            // reset these for next time
      T = thresh;
    }

  if (N &gt; 2500)
    {                           // if 2.5 seconds go by without a beat
      thresh = 512;                          // set thresh default
      P = 512;                               // set P default
      T = 512;                               // set T default
      lastBeatTime = sampleCounter;          // bring the lastBeatTime up to date        
      firstBeat = true;                      // set these to avoid noise
      secondBeat = false;                    // when we get the heartbeat back
    }

  sei();                                   // enable interrupts when youre done!
}// end isr

</code></pre><!-- raw HTML omitted -->
         
      </div>
    </div>
  </div>
</div>

          </div>
      </div>
  </div>
  <script src="/js/jquery.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.cookie.js"> </script>
<script src="/js/ekko-lightbox.js"></script>
<script src="/js/jquery.scrollTo.min.js"></script>
<script src="/js/masonry.pkgd.min.js"></script>
<script src="/js/imagesloaded.pkgd.min.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/front.js"></script>






</body>
</html>
